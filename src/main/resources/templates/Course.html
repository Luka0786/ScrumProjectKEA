<!DOCTYPE html >
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xlmns:th="http://www.thymeleaf.org"
      xmlns:xlmns="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>AllCourses</title>
</head>
<body>

<div class="container">
<table class="table-responsive">
    <thead>
    <tr>
        <th>Navn dansk</th>
        <th>Navn engelsk</th>
        <th>ECTS</th>
        <th>Fagets sprog</th>
        <th>Minimum antal af studerende</th>
        <th>Maximum antal af studerende</th>
        <th>Foruds√¶tninger for faget</th>
        <div sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_TEACHER')">
        <th>Indstillinger</th>
        </div>
        <div sec:authorize="hasRole('ROLE_STUDENT')">
            <th>Indstillinger</th>
        </div>
    </tr>
    </thead>
    <input type="search" id="inputSearch" name="searchInput" placeholder="Search for course" th:value="${name}"/>
    <tbody id="courseTable">
    <p></p>
    <div sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_TEACHER')">
    <a href="/course/create" type="button" class="btn">Opret</a>
    </div>
    <div sec:authorize="hasAnyRole('ROLE_STUDENT')">
        <a href="/course/signedUpCourses" type="button" class="btn">Se tilmeldte kurser</a>
    </div>
    <br/>

    <tr th:each="Course : ${Courses}">
        <td th:text="${Course.namedanish}"></td>
        <td th:text="${Course.name}"></td>
        <td th:text="${Course.ects}"></td>
        <td th:text="${Course.languange}"></td>
        <td th:text="${Course.minimumOfStudents}"></td>
        <td th:text="${Course.maximumOfStudents}"></td>
        <td th:text="${Course.prerequisites}"></td>

        <div sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_TEACHER')">
        <td>
            <a th:href="${'/course/details?id='+Course.getId()}" type="button">Detaljer</a>
            <a th:href="${'/course/update?id='+Course.getId()}" type="button">Opdater</a>
            <a th:href="${'/course/delete?id='+Course.getId()}" type="button">Slet</a>
        </td>
        </div>
        <div sec:authorize="hasRole('ROLE_STUDENT')">
            <td>
                <a th:href="${'/course/details?id='+Course.getId()}" type="button" >Detaljer</a>
                <a th:href="${'/course/signUp?id='+Course.getId()}" type="button">Tilmeld</a>
            </td>
        </div>
    </tr>
    </tbody>
</table>
    <script>
        $(document).ready(function(){
            $("#inputSearch").on("keyup", function() {
                var value = $(this).val().toLowerCase();
                $("#courseTable tr").filter(function() {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
        });
    </script>
</div>
</body>
</html>